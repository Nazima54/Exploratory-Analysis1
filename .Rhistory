x <- gsub(",| ", "", data1$V5)
sub(".","",names(data1$Gross.domestic.product.2012),)
x <- gsub(",| ", "", data1$V5)
names(data1)
x <- gsub(",| ", "", data1$V5)
y <- as.numeric(x)
mean(y)
x <- gsub(",| ", "", data1$V2)
y <- as.numeric(x)
mean(y)
splitNames1 <- strsplit(names(data1),"\\.")
splitNames[[5]]
splitNames[[2]]
head(data1)
splitNames1[[2]]
sub(".","",names(data1),)
names(data1)
splitNames1 <- strsplit(names(data1),".\\")
head(data1)
names(data1)
sub(".","",names(data1),)
gsub(".","",names(data1),)
sub(".","",names(data1$Gross.domestic.product.2012),)
splitNames1 <- strsplit(names(data1),"\\.")
splitNames
splitNames[2]
splitNames1[2]
gsub(".","",splitNames[2],)
agricultureLogical <- data$ACR==3 & data$AGS==6
splitNames1[2]
data1 <- read.csv("getdata2FGDP.csv", header = TRUE)
head(data1)
splitNames1 <- strsplit(names(data1),"\\.")
x <- splitNames1[2]
gsub(".","",x)
x
splitNames1 <- strsplit(names(data1),"\\.")
splitNames1[2]
gsub(",","",data1$x)
gsub(".","",names(data1),)
gsub(".","",names(data1),fixed = TRUE)
x <- gsub(",| ", "", $data1[2],fixed = TRUE)
x <- gsub(",| ", "",data1$v2,fixed = TRUE)
y <- as.numeric(x)
mean(y)
x <- gsub(",| ", "",data1$v2,fixed = TRUE)
y <- as.numeric(x)
mean(y, na.rm = TRUE)
mean(y, na.rm=TRUE)
x <- c(gsub(",| ", "",data1$v2,fixed = TRUE))
y <- as.numeric(x)
mean(y, na.rm=TRUE)
gsub(".","",names(data1),fixed = TRUE)
x
$x
$x[]
x$i
x[[i]]
gsub(".","",names(data1),fixed = TRUE)
x[i] <- gsub(",| ", "",data1$v2,fixed = TRUE)
x[v2] <- gsub(",| ", "",data1$v2,fixed = TRUE)
x <- gsub(",| ", "",data1$v2,fixed = TRUE)
y <- as.numeric(x)
mean(y, na.rm=TRUE)
x <- gsub(",| ", "",data1$v2,fixed = TRUE)
head(x)
x <- gsub(",| ", "",data1$v2)
head(x)
gsub(",| ", "",data1$v2)
gsub(".","",names(data1),fixed = TRUE)
gsub(",| ", "",data1$Grossdomesticproduct2012, fixed=TRUE)
gsub(",","",data1$Grossdomesticproduct2012, fixed=TRUE)
gsub(".","",names(data1),fixed = TRUE)
head(data1$Grossdomesticproduct2012)
head(data1$v2)
x <- data1$v2
gsub(".","",names(data1),fixed = TRUE)
x <- gsub(",","", data1$v2)
x <-  data1$v2)
x <-  data1$v2
gsub(",","",x, fixed = TRUE)
head(data1)
gsub(",","",data1$Grossdomesticproduct2012, fixed=TRUE)
gsub(".","",names(data1),fixed = TRUE)
data1 <- data1[X != ""]
data1 <- data.table(read.csv("getdata2FGDP.csv",skip = 4, nrows =215 stringAsFactors = FALSE))
data1 <- data.table(read.csv("getdata2FGDP.csv", skip = 4, nrows = 215, stringsAsFactors = FALSE))
head(data1)
names(data1)
data1 <- data1[X != ""]
data1 <- data1[, list(X, X.1, X.3, X.4)]
setnames(data1, c("X", "X.1", "X.3", "X.4"), c("CountryCode", "rankingGDP",
"Long.Name", "gdp"))
gdp <- as.numeric(gsub(",", "", data1$gdp))
setnames("")
gdp <- as.numeric(gsub(",", "", data1$gdp))
mean(gdp, na.rm = TRUE)
names(data1)
grep("^United",countryNames), 4
grep("^United",countryNames)
isUnited <- grepl("^United", data1$Long.Name)
summary(isUnited)
isUnited <- grepl("^United", data1$Long.Name)
summary(isUnited)
grep("^United",countryNames)
?grep
grep(("^United",countryNames), 4)
quiz4Q4 <- "https://d396qusza40orc.cloudfront.net/getdata%2Fdata%2FGDP.csv"
require(downloader)
download.file(url = quiz4Q4, destfile="getdata2FGDP.csv",mode= "w")
list.files(".")
data1 <- data.table(read.csv("getdata2FGDP.csv", skip = 4, nrows = 215, stringsAsFactors = FALSE))
head(data1)
quiz4Q4 <- "https://d396qusza40orc.cloudfront.net/getdata%2Fdata%2FGDP.csv"
require(downloader)
download.file(url = quiz4Q4, destfile="getdata2FGDP.csv",mode= "w")
list.files(".")
data2 <- data.table(read.csv("getdata2FGDP.csv", skip = 4, nrows = 215, stringsAsFactors = FALSE))
head(data2)
list.files(".")
data2 <- data.table(read.csv("getdata2FGDP.csv", skip = 4, nrows = 215, stringsAsFactors = FALSE))
head(data2)
quiz4Q4_1 <- "https://d396qusza40orc.cloudfront.net/getdata%2Fdata%2FGDP.csv"
require(downloader)
quiz4Q4_2 <- "https://d396qusza40orc.cloudfront.net/getdata%2Fdata%2FEDSTATS_Country.csv"
require(downloader)
download.file(url = quiz4Q4_1, destfile="getdata2FGDP.csv",mode= "w")
download.file(url = quiz4Q4_2, destfile="getdata2FEDSTATS.csv",mode= "w")
list.files(".")
data2 <- data.table(read.csv("getdata2FGDP.csv", skip = 4, nrows = 215, stringsAsFactors = FALSE))
head(data2)
data3 <- data.table(read.csv("getdata2FEDSTATS.csv", skip = 4, nrows = 215, stringsAsFactors = FALSE))
head(data3)
names(data3)
names(data3)
merge(data2,data3, all = TRUE, by = c("CountryCode"))
dt <- merge(data2,data3,all = TRUE,by = c("CountryCode"))
dt <- merge(data2,data3,all = TRUE,by = c("CountryCode"))
dt <- merge(data2,data3,all = TRUE,by = c("CountryCode"))
dt <- merge(data2,data3,by = c("CountryCode"))
dt <- merge(data1,data3,by = c("CountryCode"))
dt <- merge(data1,data3,all=TRUE,by = "CountryCode")
head(data2)
quiz4Q4_1 <- "https://d396qusza40orc.cloudfront.net/getdata%2Fdata%2FEDSTATS_Country.csv"
quiz4Q4_2 <- "https://d396qusza40orc.cloudfront.net/getdata%2Fdata%2FGDP.csv"
require(downloader)
download.file(url = quiz4Q4_1, destfile="getdata2FGDP.csv",mode= "w")
data1 <- data.table(read.csv("getdata2FGDP.csv", skip = 4, nrows = 215, stringsAsFactors = FALSE))
download.file(url = quiz4Q4_2, destfile="getdata2FEDSTATS.csv",mode= "w")
data2 <- data.table(read.csv("getdata2FGDP.csv", skip = 4, nrows = 215, stringsAsFactors = FALSE))
head(data1)
names(data1)
quiz4Q4_1 <- "https://d396qusza40orc.cloudfront.net/getdata%2Fdata%2FGDP.csv"
require(downloader)
download.file(url = quiz4Q4_1, destfile="getdata2FGDP.csv",mode= "w")
data1 <- data.table(read.csv("getdata2FGDP.csv", skip = 4, nrows = 215, stringsAsFactors = FALSE))
quiz4Q4_2 <- "https://d396qusza40orc.cloudfront.net/getdata%2Fdata%2FEDSTATS_Country.csv"
download.file(url = quiz4Q4_2, destfile="getdata2FEDSTATS.csv",mode= "w")
data2 <- data.table(read.csv("getdata2FEDSTATS.csv", skip = 4, nrows = 215, stringsAsFactors = FALSE))
head(data1)
names(data1)
head(data2)
names(data2)
data1 <- data1[X != ""]
data1 <- data1[, list(X, X.1, X.3, X.4)]
setnames(data1, c("X", "X.1", "X.3", "X.4"), c("CountryCode", "rankingGDP",                                                "Long.Name", "gdp"))
dt <- merge(data1,data3,all=TRUE,by = "CountryCode")
library(data.table)
library(RCurl)
library(downloader)
library(rJava)
library(jpeg)
setInternet2(TRUE)
quiz4Q4_1 <- "https://d396qusza40orc.cloudfront.net/getdata%2Fdata%2FGDP.csv"
require(downloader)
download.file(url = quiz4Q4_1, destfile="getdata2FGDP.csv",mode= "w")
data1 <- data.table(read.csv("getdata2FGDP.csv", skip = 4, nrows = 215, stringsAsFactors = FALSE))
quiz4Q4_2 <- "https://d396qusza40orc.cloudfront.net/getdata%2Fdata%2FEDSTATS_Country.csv"
download.file(url = quiz4Q4_2, destfile="getdata2FEDSTATS.csv",mode= "w")
data2 <- data.table(read.csv("getdata2FEDSTATS.csv", skip = 4, nrows = 215, stringsAsFactors = FALSE))
data1 <- data1[X != ""]
data1 <- data1[, list(X, X.1, X.3, X.4)]
setnames(data1, c("X", "X.1", "X.3", "X.4"), c("CountryCode", "rankingGDP",                                                "Long.Name", "gdp"))
dt <- merge(data1,data2,,by.x= "CountryCode", all = true)
dt <- merge(data1,data2,by.x= "CountryCode", all = true)
dt <- merge(data1,data2,by= "CountryCode", all = true)
names(data1)
data1 <- data1[X != ""]
names(data2)
head(data1)
head(data2)
dt <- merge(data1,data2,by= c("CountryCode"), all = true)
dt <- merge(data1,data2,all = TRUE,by= c("CountryCode"))
dt <- merge(data1,data2,all = TRUE,by.X = c("CountryCode"))
dt <- merge(data1,data2,all = TRUE,by.X = c("CountryCode"))
head(data2)
data1 <- data1[X != ""]
data1 <- data1[, list(X, X.1, X.3, X.4)]
setnames(data1, c("X", "X.1", "X.3", "X.4"), c("CountryCode", "rankingGDP",                                                "Long.Name", "gdp"))
dt <- merge(data1,data2,all = TRUE,by.X = c("CountryCode"))
gdp <- as.numeric(gsub(",", "", data1$gdp))
data1 <- data1[X != ""]
dt <- merge(data1,data3,all=TRUE,by = "CountryCode")
amzn <- getSymbols("AMZN", auto.assign = FALSE)
library(quantmod)
install.packages("quantmod")
library(quantmod)
amzn = getSymbols("AMZN",auto.assign=FALSE)
sampleTimes = index(amzn)
addmargins(table(year(sampleTimes), weekdays(sampleTimes)))
install.packages("quantmod")
library(quantmod)
amzn = getSymbols("AMZN",auto.assign=FALSE)
sampleTimes = index(amzn)
addmargins(table(year(sampleTimes), weekdays(sampleTimes)))
12 + 2
12 + 2
12 * 2
2 ^ 16
sqrt(2)
abs(-65)
? sqrt
SquareRoot2 = sqrt(2)
SquareRoot2
HoursYear <- 365 * 24
HoursYear
ls()
c(2,3,5,8,13)
c(2,3,5,8,13)
country = c("Brazil","China","India","Switzerland","USA")
LifeExpectancy = c(74,76,65,83,79)
Country
LifeExpectancy
c(2,3,5,8,13)
Country = c("Brazil","China","India","Switzerland","USA")
LifeExpectancy = c(74,76,65,83,79)
Country
LifeExpectancy
Country[1]
LifeExpectancy[3]
seq(0,100,2)
CountryData = data.frame(Country,LifeExpectancy)
CountryData
CountryData$Population = c(199000,1390000,1240000,7997,318000)
CountryData
Country = c("Australia","Greece")
LifeExpectancy = c(82,81)
Population = c(23050,11125)
NewCountryData = data,frame(Country,LifeExpectancy.Population)
NewCountryData
Country = c("Australia","Greece")
LifeExpectancy = c(82,81)
Population = c(23050,11125)
NewCountryData = data.frame(Country,LifeExpectancy.Population)
NewCountryData
NewCountryData
Country = c("Australia","Greece")
LifeExpectancy = c(82,81)
Population = c(23050,11125)
NewCountryData = data.frame(Country,LifeExpectancy,Population)
NewCountryData
AllCountryData = rbind(CountryData,NewCountryData)
AllCountryData
Books = c("NewReleases","BestSellers","Textbooks","ChildrensBooks")
Books
Subjects = c("Fiction&Literature","Nonfiction","Romance","Biographies&Memoirs","Business&Investing","ChildrensBooks","Fantasy","Health, Mind&Body","History","Humor","LAnguageInstruction","Mysteries&Thrillers","Politics&CurrentEvents","Religion&Spirituality","Arts&Entertainment","Science","ScienceFiction")
Subjects
SaleNumbers = c(100,300,400,500,600,400,20,30,76,85,86,90,45,23,78,10)
ubjects = c("Fiction&Literature","Nonfiction","Romance","Biographies&Memoirs","Business&Investing","ChildrensBooks","Fantasy","Health, Mind&Body","History","Humor","LAnguageInstruction","Mysteries&Thrillers","Politics&CurrentEvents","Religion&Spirituality","Arts&Entertainment","Science","ScienceFiction")
SaleNumbers = c(100,300,400,500,600,400,20,30,76,85,86,90,45,23,78,10)
Books = data.frame(Subjects,Salenumbers)
Books
Subjects = c("Fiction&Literature","Nonfiction","Romance","Biographies&Memoirs","Business&Investing","ChildrensBooks","Fantasy","Health, Mind&Body","History","Humor","LAnguageInstruction","Mysteries&Thrillers","Politics&CurrentEvents","Religion&Spirituality","Arts&Entertainment","Science","ScienceFiction")
SaleNumbers = c(100,300,400,500,600,400,20,30,76,85,86,90,45,23,78,10)
Books = data.frame(Subjects,Salenumbers)
Books
Books
Subjects = c("Fiction&Literature","Nonfiction","Romance","Biographies&Memoirs","Business&Investing","ChildrensBooks","Fantasy","Health, Mind&Body","History","Humor","LAnguageInstruction","Mysteries&Thrillers","Politics&CurrentEvents","Religion&Spirituality","Arts&Entertainment","Science","ScienceFiction")
SaleNumbers = c(100,300,400,500,600,400,20,30,76,85,86,90,45,23,78,10)
Books = data.frame(Subjects,Salenumbers)
Books
Subjects = c("Fiction&Literature","Nonfiction","Romance","Biographies&Memoirs","Business&Investing","ChildrensBooks","Fantasy","Health, Mind&Body","History","Humor","LAnguageInstruction","Mysteries&Thrillers","Politics&CurrentEvents","Religion&Spirituality","Arts&Entertainment","Science","ScienceFiction")
Subjects
SaleNumbers = c(100,300,400,500,600,400,20,30,76,85,86,90,45,23,78,10)
SaleNumbers
Books = data.frame(Subjects,SaleNumbers)
SaleNumbers = c(100,300,400,500,600,400,20,30,76,85,86,90,45,23,78,10,110)
SaleNumbers
Books = data.frame(Subjects,SaleNumbers)
Books
Fiction&Literature = c("Action & Adventure,"Classics","Drama","Erotica",HistoricalFiction","Horror","LiteraryCollections","LiteraryCriticism","Poetry","ReligiousFiction","ShortStories")
Fiction&Literature = c("Action&Adventure","Classics","Drama","Erotica","HistoricalFiction","Horror","LiteraryCollections","LiteraryCriticism","Poetry","ReligiousFiction","ShortStories")
Fiction&Literature = c("Action&Adventure","Classics","Drama","Erotica","HistoricalFiction","Horror","LiteraryCollections","LiteraryCriticism","Poetry","ReligiousFiction","ShortStories")
FictionAndLiterature = c("ActionAndAdventure","Classics","Drama","Erotica","HistoricalFiction","Horror","LiteraryCollections","LiteraryCriticism","Poetry","ReligiousFiction","ShortStories")
FictionAndLiterature
library(data.table)
library(xts)
##1 plot1("name of file here") starts the function. For example: plot1("household_power_consumption.txt")
##2 the file is read into R and assigned to the power variable
##3 the date column is reformatted as recommended in the assignment instructions
##4 the two days of interest are subsetted out of the power data frame and assigned to new data frame named "df"
##5 the Global_active_power col is reformatted as a numeric vector
##6 histogram is generated with the title "Global Active Power", red columns, and an x-axis label of "Global Active Power (kilowatts)"
##7 file is saved as "plot1.png"
##8 dev is closed
##9 statement is printed to let you know where the file has been successfully saved
Init <- function(workDirStr = "C:/Users/MohammedAbdul/Desktop/Coursera/Expolatory data analysis") {
setwd(workDirStr)
}
epconsume <- read.table("household_power_consumption.txt",header = TRUE, sep= ";")
if(!file.exists("exdata-data-household_power_consumption.zip")) {
temp <- tempfile()
download.file("http://d396qusza40orc.cloudfront.net/exdata%2Fdata%2Fhousehold_power_consumption.zip",temp)
file <- unzip(temp)
unlink(temp)
}
epconsume <- read.table(file, header=T, sep=";")
epconsume$Date = as.Date(epconsume$date,format = "%d/%m/%y")
df <- epconsume[(epconsume$Date == "2007-02-01") | (epconsume$Date == "2007-02-01"),]
df$Global_active_power <- as.numeric(as.character(df$Global_active_power))
df$Global_reactive_power <- as.numeric(as.character(df$Global_reactive_power))
df$Voltage <- as.numeric(as.character(df$Voltage))
df <- transform(df, timestamp=as.POSIXct(paste(Date, Time)), "%d/%m/%Y %H:%M:%S")
df$Sub_metering_1 <- as.numeric(as.character(df$Sub_metering_1))
df$Sub_metering_2 <- as.numeric(as.character(df$Sub_metering_2))
df$Sub_metering_3 <- as.numeric(as.character(df$Sub_metering_3))
hist(df$Global_active_power, main = paste("Global Active Power"), col="red", xlab="Global Active Power (kilowatts)")
df$Voltage <- as.numeric(as.character(df$Voltage))
## df <- transform(df, timestamp=as.POSIXct(paste(Date, Time)), "%d/%m/%Y %H:%M:%S")
df$Sub_metering_1 <- as.numeric(as.character(df$Sub_metering_1))
df$Sub_metering_2 <- as.numeric(as.character(df$Sub_metering_2))
df$Sub_metering_3 <- as.numeric(as.character(df$Sub_metering_3))
hist(df$Global_active_power, main = paste("Global Active Power"), col="red", xlab="Global Active Power (kilowatts)")
epconsume <- read.table(file, header=T, sep=";")
epconsume$Date = as.Date(epconsume$date,format = "%d/%m/%y")
df <- epconsume[(epconsume$Date == "2007-02-01") | (epconsume$Date == "2007-02-01"),]
df$Global_active_power <- as.numeric(as.character(df$Global_active_power))
df$Global_reactive_power <- as.numeric(as.character(df$Global_reactive_power))
df$Voltage <- as.numeric(as.character(df$Voltage))
## df <- transform(df, timestamp=as.POSIXct(paste(Date, Time)), "%d/%m/%Y %H:%M:%S")
df$Sub_metering_1 <- as.numeric(as.character(df$Sub_metering_1))
df$Sub_metering_2 <- as.numeric(as.character(df$Sub_metering_2))
df$Sub_metering_3 <- as.numeric(as.character(df$Sub_metering_3))
epconsume <- read.table(file, header=T, sep=";")
epconsume$Date = as.Date(epconsume$date,format = "%d/%m/%y")
df <- epconsume[(epconsume$Date == "2007-02-01") | (epconsume$Date == "2007-02-01"),]
df$Global_active_power <- as.numeric(as.character(df$Global_active_power))
df$Global_reactive_power <- as.numeric(as.character(df$Global_reactive_power))
df$Voltage <- as.numeric(as.character(df$Voltage))
## df <- transform(df, timestamp=as.POSIXct(paste(Date, Time)), "%d/%m/%Y %H:%M:%S")
df$Sub_metering_1 <- as.numeric(as.character(df$Sub_metering_1))
df$Sub_metering_2 <- as.numeric(as.character(df$Sub_metering_2))
df$Sub_metering_3 <- as.numeric(as.character(df$Sub_metering_3))
epconsume <- read.table(file, header=T, sep=";")
epconsume$Date = as.Date(epconsume$date,format = "%d/%m/%y")
df <- epconsume[(epconsume$Date == "2007-02-01") | (epconsume$Date == "2007-02-01"),]
df$Global_active_power <- as.numeric(as.character(df$Global_active_power))
df$Global_reactive_power <- as.numeric(as.character(df$Global_reactive_power))
df$Voltage <- as.numeric(as.character(df$Voltage))
## df <- transform(df, timestamp=as.POSIXct(paste(Date, Time)), "%d/%m/%Y %H:%M:%S")
df$Sub_metering_1 <- as.numeric(as.character(df$Sub_metering_1))
df$Sub_metering_2 <- as.numeric(as.character(df$Sub_metering_2))
df$Sub_metering_3 <- as.numeric(as.character(df$Sub_metering_3))
epconsume <- read.table(file, header=T, sep=";")
source('~/.active-rstudio-document', echo=TRUE)
plot1 <- function() {
hist(df$Global_active_power, main = paste("Global Active Power"), col="red", xlab="Global Active Power (kilowatts)")
dev.copy(png, file="plot1.png", width=480, height=480)
dev.off()
cat("Plot1.png has been saved in", getwd())
}
plot1()
plot1 <- function() {
hist(df$Global_active_power, main = paste("Global Active Power"), col="red", xlab="Global Active Power (kilowatts)")
dev.copy(png, file="plot1.png", width=480, height=480)
dev.off()
cat("Plot1.png has been saved in", getwd())
}
plot1()
dev.copy(png, file="plot1.png", width=480, height=480)
source('~/.active-rstudio-document', echo=TRUE)
if(!file.exists("exdata-data-household_power_consumption.zip")) {
temp <- tempfile()
download.file("http://d396qusza40orc.cloudfront.net/exdata%2Fdata%2Fhousehold_power_consumption.zip",temp)
file <- unzip(temp)
unlink(temp)
}
power <- read.table(file, header=T, sep=";")
power$Date <- as.Date(power$Date, format="%d/%m/%Y")
df <- power[(power$Date=="2007-02-01") | (power$Date=="2007-02-02"),]
df$Global_active_power <- as.numeric(as.character(df$Global_active_power))
df$Global_reactive_power <- as.numeric(as.character(df$Global_reactive_power))
df$Voltage <- as.numeric(as.character(df$Voltage))
df <- transform(df, timestamp=as.POSIXct(paste(Date, Time)), "%d/%m/%Y %H:%M:%S")
df$Sub_metering_1 <- as.numeric(as.character(df$Sub_metering_1))
df$Sub_metering_2 <- as.numeric(as.character(df$Sub_metering_2))
df$Sub_metering_3 <- as.numeric(as.character(df$Sub_metering_3))
plot1 <- function() {
hist(df$Global_active_power, main = paste("Global Active Power"), col="red", xlab="Global Active Power (kilowatts)")
dev.copy(png, file="plot1.png", width=480, height=480)
dev.off()
cat("Plot1.png has been saved in", getwd())
}
plot1()
plot1()
plot2 <- function(){
hist(df$timestamp,df$Global_active_power,type = "1",xlab="", ylab ="Global Active Power (kilowatts)")
dev.copy(png,file="plot2.png" , width = 480, height=480)
dev.off()
cat("Plot2.png have been saved",getwd())
}
plot2()
plot2 <- function(){
plot(df$timestamp,df$Global_active_power, type="l", xlab="", ylab="Global Active Power (kilowatts)")
dev.copy(png,file="plot2.png" , width = 480, height=480)
dev.off()
cat("Plot2.png have been saved",getwd())
}
plot2()
plot2()
source('~/.active-rstudio-document', echo=TRUE)
source('~/.active-rstudio-document', echo=TRUE)
source('~/.active-rstudio-document', echo=TRUE)
## Across the United States, how have emissions from coal combustion-related sources changed from 1999–2008?
library(ggplot2)
library(datasets)
data(airquality)
if(!file.exists("exdata%2Fdata%2FNEI_data.zip")) {
temp <- tempfile()
download.file("http://d396qusza40orc.cloudfront.net/exdata%2Fdata%2FNEI_data.zip",temp)
file <- unzip(temp)
unlink(temp)
}
NEI <- readRDS("summarySCC_PM25.rds")
SCC <- readRDS("Source_Classification_Code.rds")
##Subsetting coal combustion-related sources
combustionRelated <- grep1("comb",SCC$SCC.Level1.one,ignore.case= TrUE)
coalRelated <- grep1("coal",SCC$SCC.Level4.four,ignore.case == True)
combustionRelated <- grepl("comb", SCC$SCC.Level.One, ignore.case=TRUE)
coalRelated <- grepl("coal", SCC$SCC.Level.Four, ignore.case=TRUE)
coalCombustion <- (combustionRelated & coalRelated)
combustionSCC <- SCC[coalCombustion,]$SCC
combustionNEI <- NEI[NEI$SCC %in% combustionSCC,]
coalcombustion <- subset()
setwd("C:/Users/MohammedAbdul/Desktop/Coursera/Expanalysis/Expoassign2")
## How have emissions from motor vehicle sources changed from 1999–2008 in Baltimore City?
library(ggplot2)
library(datasets)
if (!file.exists = ""exdata%2Fdata%2FNEI_data.zip"")) {
if (!file.exists = ("exdata%2Fdata%2FNEI_data.zip")) {
## How have emissions from motor vehicle sources changed from 1999–2008 in Baltimore City?
library(ggplot2)
library(datasets)
if(!file.exists("exdata%2Fdata%2FNEI_data.zip")) {
temp <- tempfile()
download.file("http://d396qusza40orc.cloudfront.net/exdata%2Fdata%2FNEI_data.zip",temp)
file <- unzip(temp)
unlink(temp)
}
NEI <- readRDS("summarySCC_PM25.rds")
SCC <- readRDS("Source_Classification_Code.rds")
head(SCC$SCC)
summary(SCC$SCC)
str(SCC$SCC)
## Subset the motor vehicle id
motorVehicle <- grep1("vehicle",SCC$SCC.Level.Two, Ignore.case = TRUE)
vehiclesSCC <- SCC[motorVehicle,]$SCC
## Subset the motor vehicle id
motorVehicle <- grep1("vehicle",SCC$SCC.Level.Two, Ignore.case = TRUE)
mvehicles <- grepl("vehicle", SCC$SCC.Level.Two, ignore.case=TRUE)
vehiclesSCC <- SCC[mvehicles,]$SCC
vehiclesNEI <- NEI[NEI$SCC %in% vehiclesSCC,]
BaltimoreNEI <- vehicles[vehiclesNEI$fips == "24510",]
BaltimoreNEI <- vehiclesNEI[vehiclesNEI$fips == "24510",]
## Baltimore City, Maryland (fips == "24510")
BaltimoreNEI <- vehiclesNEI[vehiclesNEI$fips == "24510",]
ggplot5 <- ggplot(BaltimoreNEI,aes(factor(year),Emissions/10^5)) +
geom_bar(stat="identity",fill="blue",width=0.75) +
theme_bw() +  guides(fill=FALSE) +
labs(x="year", y=expression("Total PM"[2.5]*" Emission (10^5 Tons)")) +
labs(title=expression("PM"[2.5]*" emissions from motor vehicle sources changed from 1999–2008 in Baltimore City"))
print(ggplot5)
dev.copy(png, file="plot5.png", width=480, height=480)
dev.off()
cat("plot5.png has been saved in", getwd())
vBaltimoreNEI <- vehiclesNEI[vehiclesNEI$fips == "24510",]
vBaltimoreNEI$city <- "Baltimore City"
vLANEI <- vehiclesNEI[vehiclesNEI$fips == "06037"]
## Of the four types of sources indicated by the type (point, nonpoint, onroad, nonroad) variable, which of these four sources have seen decreases in emissions from 1999–2008 for Baltimore City? Which have seen increases in emissions from 1999–2008? Use the ggplot2 plotting system to make a plot answer this question.
library(ggplot2)
library(datasets)
data(airquality)
if(!file.exists("exdata%2Fdata%2FNEI_data.zip")) {
temp <- tempfile()
download.file("http://d396qusza40orc.cloudfront.net/exdata%2Fdata%2FNEI_data.zip",temp)
file <- unzip(temp)
unlink(temp)
}
NEI <- readRDS("summarySCC_PM25.rds")
SCC <- readRDS("Source_Classification_Code.rds")
vehicles <- grepl("vehicle", SCC$SCC.Level.Two, ignore.case=TRUE)
vehiclesSCC <- SCC[vehicles,]$SCC
vehiclesNEI <- NEI[NEI$SCC %in% vehiclesSCC,]
## Baltimore City, Maryland (fips == "24510")
source('C:/Users/MohammedAbdul/Desktop/Coursera/Expanalysis/Expoassign2/plot6.R', echo=TRUE)
vehiclesBaltimoreNEI <- vehiclesNEI[vehiclesNEI$fips == 24510,]
vehiclesBaltimoreNEI$city <- "Baltimore City"
vehiclesLANEI <- vehiclesNEI[vehiclesNEI$fips=="06037",]
vehiclesLANEI$city <- "Los Angeles County"
bothNEI <- rbind(vehiclesBaltimoreNEI,vehiclesLANEI)
source('~/.active-rstudio-document', echo=TRUE)
source('~/.active-rstudio-document', echo=TRUE)
